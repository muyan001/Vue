<!-- 
    服务器响应

    onreadystatechange 属性
        readyState 属性存留 XMLHttpRequest 的状态。
        onreadystatechange 属性定义当 readyState 发生变化时执行的函数。
        status 属性和 statusText 属性存有 XMLHttpRequest 对象的状态。



        onreadystatechange	定义了当 readyState 属性发生改变时所调用的函数。

        readyState	
            保存了 XMLHttpRequest 的状态。

            0: 请求未初始化
            1: 服务器连接已建立
            2: 请求已接收
            3: 正在处理请求
            4: 请求已完成且响应已就绪
        status	
            200: "OK"
            403: "Forbidden"
            404: "Page not found"
            如需完整列表，请访问 Http 消息参考手册

        statusText	返回状态文本（例如 "OK" 或 "Not Found"）


    使用回调函数
        回调函数是一种作为参数被传递到另一个函数的函数。

        如果您的网站中有多个 AJAX 任务，那么您应该创建一个执行 XMLHttpRequest 对象的函数，以及一个供每个 AJAX 任务的回调函数。

        该函数应当包含 URL 以及当响应就绪时调用的函数。



    服务器响应属性
        responseText	获取字符串形式的响应数据
        responseXML	获取 XML 数据形式的响应数据

    服务器响应方法
        getResponseHeader()	从服务器返回特定的头部信息
        getAllResponseHeaders()	从服务器返回所有头部信息
-->

<!-- 使用回调函数 -->
<html>
    <body>
        <div id="demo">
        
            <h1>XMLHttpRequest 对象</h1>
        
            <button type="button" onclick="loadDoc('/example/js/ajax_info.txt', myFunction)">更改内容
            </button>
        </div>

        <script>
            function loadDoc(url, cFunction){
                var xhttp;
                xhttp = new XMLHttpRequest();

                xhttp.onreadystatechange = function(){
                    if(this.readyState == 4 && this.status==200){
                        cFunction(this);
                    }
                }
                xhttp.open("GET", url, true);
                xhttp.send();
            }

            function myFunction(xhttp){
                document.getElementById("demo").innerHTML = xhttp.responseText;
            }
        </script>
    </body>
</html>